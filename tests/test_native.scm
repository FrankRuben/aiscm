(use-modules (guile-tap))
(load-extension "libguile-aiscm-tests" "init_tests")
(ok (eqv? 42 (forty-two))
    "Run simple native method")
(ok (null? (from-array-empty))
    "Convert empty integer array to Scheme array")
(ok (equal? '(2 3 5) (from-array-three-elements))
    "Convert integer array with three elements to Scheme array")
(ok (equal? '(2 3 5) (from-array-stop-at-zero))
    "Convert integer array to Scheme array stopping at first zero element")
(ok (equal? '(0) (from-array-at-least-one))
    "Convert zero array with minimum number of elements")
(ok (first-offset-is-zero)
    "First value of offset-array is zero")
(ok (second-offset-correct)
    "Second value of offset-array correct")
(ok (zero-offset-for-null-pointer)
    "Set offset values for null pointers to zero")
(ok (pack-byte-audio-sample)
    "Pack byte audio sample")
(ok (pack-byte-audio-samples)
    "Pack byte audio samples")
(ok (pack-short-int-audio-samples)
    "Pack short integer audio samples")
(ok (ring-buffer-empty-initially)
    "Initialise ring buffer")
(ok (ring-buffer-adding-element)
    "Adding element to ring buffer increases count")
(ok (ring-buffer-retrieve-element)
    "Retrieve element from ring buffer")
(ok (ring-buffer-element-removed)
    "After retrieval element should be removed from ring buffer")
(ok (ring-buffer-is-fifo)
    "Test retrieval of two elements from ring buffer")
(ok (ring-buffer-interleaved)
    "Test interleaved reading and writing with ring buffer")
(ok (ring-buffer-cyclical)
    "Test ring buffer cycle")
(ok (ring-buffer-test-full)
    "Tell whether ring buffer is full")
(ok (ring-buffer-test-empty)
    "Tell whether ring buffer is empty")
(ok (ring-buffer-free-nulls-pointer)
    "Deleting ring buffer sets pointer to null")
(run-tests)
